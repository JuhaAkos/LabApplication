<div class="container">
    <h3>Laborbeosztás naptára:</h3>
    <p></p>

    <div class="row centered">
        <div class="col-md-4"><button class="btn btn-primary btn-sm" (click)="changeToPreviousWeek()">Előző hét</button></div>       
        <div class="col-md-4">
            <h3>{{ currentweeknumber }}. hét</h3>
        </div> 
        <div class="col-md-4"><button class="btn btn-primary btn-sm" (click)="changeToNextWeek()">Következő hét</button></div>  
    </div>
    <hr>


    <table >
        <col style="width: 5%">
        <col style="width:19%">
        <col style="width:19%">
        <col style="width:19%">
        <col style="width:19%">
        <col style="width:19%">

        <thead>

        </thead>

        <tbody>
            <tr>
                <td class="centered bgdark"></td> 
                <td class="centered bgmid">Hétfő</td> 
                <td class="centered bgmid">Kedd</td> 
                <td class="centered bgmid">Szerda</td> 
                <td class="centered bgmid">Csütörtök</td> 
                <td class="centered bgmid">Péntek</td> 
            </tr>            
            <tr>
                <td class="paddingBeforeAfter bgmid">0. óra</td>              
                <td *ngFor="let number of [0,18,36,54,72]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div>                                      
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">1. óra</td>              
                <td *ngFor="let number of [2,20,38,56,74]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div>                
                </td>
                
            </tr>
            <tr >   
                <td class="paddingBeforeAfter bgmid">2. óra</td>              
                <td *ngFor="let number of [4,22,40,58,76]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div>                 
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">3. óra</td> 
                <td *ngFor="let number of [6,24,42,60,78]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div> 
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">4. óra</td> 
                <td *ngFor="let number of [8,26,44,62,80]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div>          
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">5. óra</td> 
                <td *ngFor="let number of [10,28,46,64,82]" >                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div>                    
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">6. óra</td> 
                <td *ngFor="let number of [12,30,48,66,84]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div>          
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">7. óra</td>
                <td *ngFor="let number of [14,32,50,68,86]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div> 
                </td>
            </tr>
            <tr>
                <td class="paddingBeforeAfter bgmid">8. óra</td> 
                <td *ngFor="let number of [16,34,52,70,88]">                    
                    <div *ngIf="currentWeeksclasses[number] || currentWeeksclasses[number+1]">
                        <div *ngIf="currentWeeksclasses[number]" class="calendarfull"
                            [class.timetableclass]='ifTimeTable(number)' [class.calendarfilled]='ifFilled(number)'
                            [class.calendarhalf]='ifFilled(number+1) || currentWeeksclasses[number]?.classroom=="kémia labor"'
                            [class.borderright]='!ifFilled(number+1) && currentWeeksclasses[number]?.classroom=="kémia labor"'>
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number]?.teachername}}</div>
                        </div>
                        <div *ngIf="!currentWeeksclasses[number]" class="calendarfull emptycell"
                            [class.emptycell]="!currentWeeksclasses[number]" [class.timetableclass]='ifTimeTable(number)'
                            [class.calendarhalf]='ifFilled(number+1)'>
                            <div class="calendargroupstyle"> </div>
                            <div class="calendardescstyle"> </div>
                        </div>
                        <div *ngIf="ifFilled(number+1)" [class.timetableclass]='ifTimeTable(number+1)' [class.calendarfilled]='ifFilled(number+1)'
                            class="calendarfilled calendarhalf borderleft">
                            <div class="calendaractivitystyle">{{currentWeeksclasses[number+1]?.activity}}</div>
                            <div class="calendarclassstyle">{{classToText(currentWeeksclasses[number+1]?.classroom)}}</div><br>
                            <div class="calendargroupstyle">{{groupsToString(currentWeeksclasses[number+1]?.groups)}}</div>
                            <div class="calendardescstyle">{{currentWeeksclasses[number+1]?.teachername}}</div>
                        </div>
                    </div> 
                </td>
            </tr>
        </tbody>
    </table>
</div>